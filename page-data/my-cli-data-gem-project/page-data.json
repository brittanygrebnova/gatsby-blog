{"componentChunkName":"component---src-templates-blog-post-js","path":"/my-cli-data-gem-project","webpackCompilationHash":"56be42792f201bd934ef","result":{"data":{"markdownRemark":{"html":"<p>The last of the final projects in our Ruby section, the CLI data gem project required us to create our own command line application that scrapes a site of our choice and returns information to the user from that site. For my project, I chose the website www.njkidsonline.com which offers a daily list of family-oriented events throughout the state of New Jersey. Here's a little walkthrough of my program.</p>\n<p>The user runs ./bin/jersey<em>family</em>fun which triggers this line:</p>\n<p>JerseyFamilyFun::CLI.new.call</p>\n<p>The call method and associated methods within look like this:</p>\n<pre><code>def call\n    list_events\n    menu\n    goodbye\nend\n</code></pre>\n<pre><code>def list_events\n    puts \"Welcome to Jersey Family Fun! Here is a list of today's events:\"\n    @events = JerseyFamilyFun::Event.today\n    @events.each.with_index(1) do |event, index|\n      puts \"#{index}. #{event.title_and_location}\"\n    end\nend\n</code></pre>\n<p>The list_events method creates an @events instance variable using the event class method self.today, and iterates over each of those instances to output the number of the event and its title and location.</p>\n<pre><code>def self.today\n    self.scrape_events\nend\n</code></pre>\n<p>And self.scrape_events is as follows:</p>\n<pre><code>def self.scrape_events\n    doc = Nokogiri::HTML(open(\"https://www.njkidsonline.com/events\"))\n    events = []\n    doc.css(\"div.ListingItem\").each do |listed_event|\n      event = self.new\n      event.title_and_location = listed_event.css(\"h3\").text.strip\n      event.date_and_time = listed_event.css(\".FieldRow\").text.gsub(\"Date\", \"\").strip\n      event.url = listed_event.css(\"a\").attribute('href').value\n      #binding.pry\n      events &#x3C;&#x3C; event\n    end\n    events\nend\n</code></pre>\n<p>This is where the information about the daily events is scraped from the site and given the attributes needed for the program. The return value is an array of events: the array that is iterated over in the list_events method. The next part of the program is the menu which accepts the user's input and returns the title and location as well as date and time and url of the chosen event. The user can choose any number from the ordered list, can enter 'list' to see the list again, or 'exit' to exit the program, at which the program outputs \"Come back tomorrow for more family fun events!\".</p>\n<pre><code>def menu\n    input = nil\n    while input != 'exit'\n      puts \"Enter the number of the event you'd like more information about, or 'list' to see today's list of events, or 'exit':\"\n      input = gets.strip.downcase\n\n      if input.to_i > 0\n        event_chosen = @events[input.to_i - 1]\n        puts \"#{event_chosen.title_and_location} - #{event_chosen.date_and_time} - #{event_chosen.url}\"\n      elsif input == \"list\"\n        list_events\n      else\n        puts \"Please enter the number of the event you want to learn more about, 'list', or 'exit'\"\n      end\n    end\nend\n</code></pre>\n<pre><code>def goodbye\n    puts \"Come back tomorrow for more family fun events!\"\nend\n</code></pre>\n<p>While the program is incredibly simple, I'm proud to have written it and to have accomplished something that seemed impossible at first.</p>\n<p>Thanks for reading!</p>","frontmatter":{"title":"My CLI Data Gem Project"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"pathSlug":"/my-cli-data-gem-project","prev":{"frontmatter":{"path":"/music-library-cli","title":"Music Library CLI","tags":["ruby","web development","flatiron","getting started","cli","moms who code"]}},"next":{"frontmatter":{"path":"/class-vs-instance","title":"Class vs. Instance","tags":["ruby","web development","flatiron","moms who code"]}}}}}